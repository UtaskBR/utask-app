(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9699],{654:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var a=r(5155),t=r(2115),i=r(2108),o=r(6874),n=r.n(o),c=r(4684),l=r(3568);function d(){let{data:e}=(0,i.useSession)(),[s,r]=(0,t.useState)([]),[o,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/favorites");if(!e.ok)throw Error("Erro ao buscar favoritos");let s=await e.json();r(s)}catch(e){console.error("Erro ao buscar favoritos:",e),l.Ay.error("N\xe3o foi poss\xedvel carregar seus favoritos")}finally{d(!1)}})()},[]);let m=async e=>{try{if(!(await fetch("/api/favorites/".concat(e),{method:"DELETE"})).ok)throw Error("Erro ao remover favorito");r(s=>s.filter(s=>s.id!==e)),l.Ay.success("Removido dos favoritos")}catch(e){console.error("Erro ao remover favorito:",e),l.Ay.error("N\xe3o foi poss\xedvel remover dos favoritos")}};return(0,a.jsx)(c.q,{children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-secondary-900 mb-8",children:"Meus Favoritos"}),o?(0,a.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,a.jsx)("p",{children:"Carregando favoritos..."})}):0===s.length?(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-8 text-center",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-secondary-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),(0,a.jsx)("h3",{className:"text-xl font-medium text-secondary-900 mb-2",children:"Nenhum favorito"}),(0,a.jsx)("p",{className:"text-secondary-600 mb-6",children:"Voc\xea ainda n\xe3o adicionou nenhum servi\xe7o aos favoritos."}),(0,a.jsx)(n(),{href:"/explorar",className:"btn-primary py-2 px-4",children:"Explorar Servi\xe7os"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"h-40 bg-secondary-200 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-secondary-400",children:"Imagem do Servi\xe7o"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-secondary-900",children:e.service.title}),e.service.value?(0,a.jsxs)("span",{className:"text-primary-600 font-bold",children:["R$ ",e.service.value.toFixed(2)]}):(0,a.jsx)("span",{className:"text-secondary-600 text-sm",children:"Aberto a propostas"})]}),(0,a.jsx)("p",{className:"mt-2 text-secondary-600 line-clamp-2",children:e.service.description}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-700 font-medium",children:e.service.creator.name.charAt(0)})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-secondary-900",children:e.service.creator.name}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-yellow-400",children:"â˜…"}),(0,a.jsx)("span",{className:"ml-1 text-sm text-secondary-600",children:e.service.creator.rating})]})]})]}),e.service.profession&&(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary-100 text-primary-800",children:e.service.profession.name})}),(0,a.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,a.jsx)(n(),{href:"/servicos/".concat(e.service.id),className:"btn-primary py-2 px-4",children:"Ver Detalhes"}),(0,a.jsx)("button",{onClick:()=>m(e.id),className:"text-red-600 hover:text-red-700 font-medium",children:"Remover"})]})]})]},e.id))})]})})}},4684:(e,s,r)=>{"use strict";r.d(s,{q:()=>n});var a=r(5155),t=r(2108),i=r(5695),o=r(2115);function n(e){let{children:s}=e,{data:r,status:n}=(0,t.useSession)(),c=(0,i.useRouter)(),l=(0,i.usePathname)();return((0,o.useEffect)(()=>{"unauthenticated"===n&&c.push("/auth/login?callbackUrl=".concat(encodeURIComponent(l)))},[n,c,l]),"loading"===n)?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,a.jsx)("p",{children:"Carregando..."})}):r?(0,a.jsx)(a.Fragment,{children:s}):null}},5695:(e,s,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},8513:(e,s,r)=>{Promise.resolve().then(r.bind(r,654))}},e=>{var s=s=>e(e.s=s);e.O(0,[2108,6874,3568,8441,1684,7358],()=>s(8513)),_N_E=e.O()}]);