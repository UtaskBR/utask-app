(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2076],{5695:(e,s,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(s,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(s,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},6491:(e,s,r)=>{Promise.resolve().then(r.bind(r,7166))},7166:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>x});var a=r(5155),t=r(6874),n=r.n(t),c=r(5695),i=r(2115),l=r(2108),o=r(6766);function d(){var e,s,r,t,d,m,x,h,u,f;let{data:v}=(0,l.useSession)(),j=(0,c.usePathname)(),[y,p]=(0,i.useState)(!1),[N,b]=(0,i.useState)(!1),[g,w]=(0,i.useState)(0),k=(0,i.useRef)(null),C=(0,i.useRef)(null),S=[{name:"In\xedcio",href:"/"},{name:"Explorar",href:"/explorar"},{name:"Mapa",href:"/mapa"},{name:"Como Funciona",href:"/como-funciona"}],P=[{name:"Meu Perfil",href:"/perfil/".concat(null==v||null==(e=v.user)?void 0:e.id)},{name:"Meus Servi\xe7os",href:"/meus-servicos"},{name:"Agenda",href:"/agenda"},{name:"Carteira",href:"/carteira"},{name:"Favoritos",href:"/favoritos"}];return(0,i.useEffect)(()=>{var e;if(null==v||null==(e=v.user)?void 0:e.id){let e=async()=>{try{let e=await fetch("/api/notifications?unreadOnly=true");if(e.ok){let s=await e.json();w(s.length||0)}}catch(e){console.error("Erro ao buscar notifica\xe7\xf5es:",e)}};e();let s=setInterval(e,6e4);return()=>clearInterval(s)}},[null==v||null==(s=v.user)?void 0:s.id]),(0,i.useEffect)(()=>{function e(e){k.current&&!k.current.contains(e.target)&&C.current&&!C.current.contains(e.target)&&b(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{b(!1),p(!1)},[j]),(0,a.jsxs)("nav",{className:"bg-white shadow-sm",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,a.jsx)(n(),{href:"/",className:"text-primary-600 font-bold text-xl",children:"UTASK"})}),(0,a.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:S.map(e=>(0,a.jsx)(n(),{href:e.href,className:"".concat(j===e.href?"border-primary-500 text-primary-600":"border-transparent text-secondary-500 hover:text-secondary-700 hover:border-secondary-300"," inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium"),children:e.name},e.name))})]}),(0,a.jsx)("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:v?(0,a.jsxs)("div",{className:"ml-3 relative flex items-center",children:[(0,a.jsx)(n(),{href:"/criar-servico",className:"btn-primary mr-4",children:"Criar Servi\xe7o"}),(0,a.jsxs)(n(),{href:"/notificacoes",className:"relative mr-4",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-secondary-500 hover:text-secondary-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),g>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g>9?"9+":g})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{ref:C,onClick:()=>b(!N),className:"flex text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,a.jsx)("span",{className:"sr-only",children:"Abrir menu do usu\xe1rio"}),(0,a.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary-200 flex items-center justify-center overflow-hidden",children:(null==(r=v.user)?void 0:r.image)?(0,a.jsx)(o.default,{src:v.user.image,alt:v.user.name||"Usu\xe1rio",width:32,height:32,className:"h-8 w-8 rounded-full"}):(0,a.jsx)("span",{className:"text-primary-700 font-medium",children:(null==(d=v.user)||null==(t=d.name)?void 0:t.charAt(0))||"U"})})]}),N&&(0,a.jsxs)("div",{ref:k,className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",children:[P.map(e=>(0,a.jsx)(n(),{href:e.href,className:"block px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100",children:e.name},e.name)),(0,a.jsx)("button",{onClick:()=>(0,l.signOut)(),className:"block w-full text-left px-4 py-2 text-sm text-secondary-700 hover:bg-secondary-100",children:"Sair"})]})]})]}):(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n(),{href:"/auth/login",className:"text-secondary-600 hover:text-secondary-900 px-3 py-2 rounded-md text-sm font-medium",children:"Entrar"}),(0,a.jsx)(n(),{href:"/auth/register",className:"btn-primary ml-2",children:"Cadastrar"})]})}),(0,a.jsx)("div",{className:"-mr-2 flex items-center sm:hidden",children:(0,a.jsxs)("button",{onClick:()=>p(!y),className:"inline-flex items-center justify-center p-2 rounded-md text-secondary-400 hover:text-secondary-500 hover:bg-secondary-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",children:[(0,a.jsx)("span",{className:"sr-only",children:"Abrir menu principal"}),y?(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):(0,a.jsx)("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),y&&(0,a.jsxs)("div",{className:"sm:hidden",children:[(0,a.jsx)("div",{className:"pt-2 pb-3 space-y-1",children:S.map(e=>(0,a.jsx)(n(),{href:e.href,className:"".concat(j===e.href?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-secondary-600 hover:bg-secondary-50 hover:border-secondary-300 hover:text-secondary-800"," block pl-3 pr-4 py-2 border-l-4 text-base font-medium"),children:e.name},e.name))}),v?(0,a.jsxs)("div",{className:"pt-4 pb-3 border-t border-secondary-200",children:[(0,a.jsxs)("div",{className:"flex items-center px-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary-200 flex items-center justify-center",children:(null==(m=v.user)?void 0:m.image)?(0,a.jsx)(o.default,{src:v.user.image,alt:v.user.name||"Usu\xe1rio",width:40,height:40,className:"h-10 w-10 rounded-full"}):(0,a.jsx)("span",{className:"text-primary-700 font-medium",children:(null==(h=v.user)||null==(x=h.name)?void 0:x.charAt(0))||"U"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-base font-medium text-secondary-800",children:null==(u=v.user)?void 0:u.name}),(0,a.jsx)("div",{className:"text-sm font-medium text-secondary-500",children:null==(f=v.user)?void 0:f.email})]}),g>0&&(0,a.jsx)("div",{className:"ml-auto bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:g>9?"9+":g})]}),(0,a.jsxs)("div",{className:"mt-3 space-y-1",children:[(0,a.jsx)(n(),{href:"/criar-servico",className:"block px-4 py-2 text-base font-medium text-secondary-600 hover:text-secondary-800 hover:bg-secondary-100",children:"Criar Servi\xe7o"}),(0,a.jsxs)(n(),{href:"/notificacoes",className:"block px-4 py-2 text-base font-medium text-secondary-600 hover:text-secondary-800 hover:bg-secondary-100",children:["Notifica\xe7\xf5es ",g>0&&"(".concat(g,")")]}),P.map(e=>(0,a.jsx)(n(),{href:e.href,className:"block px-4 py-2 text-base font-medium text-secondary-600 hover:text-secondary-800 hover:bg-secondary-100",children:e.name},e.name)),(0,a.jsx)("button",{onClick:()=>(0,l.signOut)(),className:"block w-full text-left px-4 py-2 text-base font-medium text-secondary-600 hover:text-secondary-800 hover:bg-secondary-100",children:"Sair"})]})]}):(0,a.jsx)("div",{className:"pt-4 pb-3 border-t border-secondary-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-around",children:[(0,a.jsx)(n(),{href:"/auth/login",className:"text-secondary-600 hover:text-secondary-900 px-3 py-2 rounded-md text-base font-medium",children:"Entrar"}),(0,a.jsx)(n(),{href:"/auth/register",className:"btn-primary",children:"Cadastrar"})]})})]})]})}function m(){return(0,a.jsx)("footer",{className:"bg-white border-t border-secondary-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"UTASK"}),(0,a.jsx)("p",{className:"text-secondary-600 text-sm",children:"Conectando clientes e profissionais de forma simples, segura e eficiente."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-secondary-900 uppercase tracking-wider mb-4",children:"Navega\xe7\xe3o"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"In\xedcio"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/explorar",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Explorar"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/mapa",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Mapa"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/como-funciona",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Como Funciona"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-secondary-900 uppercase tracking-wider mb-4",children:"Recursos"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/criar-servico",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Criar Servi\xe7o"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/meus-servicos",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Meus Servi\xe7os"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/agenda",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Agenda"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/carteira",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Carteira"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-secondary-900 uppercase tracking-wider mb-4",children:"Legal"}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/termos",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Termos de Uso"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/privacidade",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Pol\xedtica de Privacidade"})}),(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:"/cookies",className:"text-secondary-600 hover:text-secondary-900 text-sm",children:"Pol\xedtica de Cookies"})})]})]})]}),(0,a.jsx)("div",{className:"mt-8 pt-8 border-t border-secondary-200",children:(0,a.jsxs)("p",{className:"text-center text-secondary-500 text-sm",children:["\xa9 ",new Date().getFullYear()," UTASK. Todos os direitos reservados."]})})]})})}function x(e){let{children:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,a.jsx)(d,{}),(0,a.jsx)("main",{className:"flex-grow",children:s}),(0,a.jsx)(m,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2108,6874,6766,8441,1684,7358],()=>s(6491)),_N_E=e.O()}]);