"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{138:(e,n,t)=>{t.r(n),t.d(n,{default:()=>c});var r=t(5155),l=t(2115),a=t(5411),o=t.n(a);function c(e){let{userLocation:n,services:t,onMarkerClick:a}=e,c=(0,l.useRef)(null),u=(0,l.useRef)(null);return(0,l.useEffect)(()=>{if(u.current){o().accessToken="pk.eyJ1IjoidXRhc2stYnIiLCJhIjoiY205N2k2emZkMDgwMTJqcGxldDEwNmRvMiJ9.YAYNOXMhaZMuWfDO8HVF3w";try{c.current=new(o()).Map({container:u.current,style:"mapbox://styles/mapbox/streets-v11",center:[n.lng,n.lat],zoom:12}),c.current.addControl(new(o()).NavigationControl),new(o()).Marker({color:"#0ea5e9"}).setLngLat([n.lng,n.lat]).setPopup(new(o()).Popup().setText("Voc\xea est\xe1 aqui")).addTo(c.current),c.current.on("load",()=>{t.forEach(e=>{if(null==e.latitude||null==e.longitude)return;let n=document.createElement("div");n.className="service-marker",n.style.cssText="\n            width:24px;height:24px;\n            border-radius:50%;\n            background:#0ea5e9;\n            display:flex;align-items:center;\n            justify-content:center;\n            color:#fff;font-size:12px;\n            cursor:pointer;\n          ",n.innerText="S",n.onclick=()=>a(e),new(o()).Marker(n).setLngLat([e.longitude,e.latitude]).addTo(c.current)})})}catch(e){console.warn("Mapbox GL n\xe3o p\xf4de inicializar (WebGL):",e)}return()=>{var e;null==(e=c.current)||e.remove()}}},[n,t,a]),(0,r.jsx)("div",{ref:u,className:"h-full w-full"})}}}]);